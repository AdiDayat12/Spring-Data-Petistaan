{"openapi":"3.1.0","info":{"title":"Petistaan API","description":"API endpoints for handling owner & pet data.","contact":{"name":"Adi Hidayat","url":"https://github.com/AdiDayat12/","email":"adilinan72@gmail.com"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Owner","description":"Endpoints related to owner management"}],"paths":{"/petistaan/owners":{"post":{"tags":["Owner"],"summary":"Create new owner","description":"Create owner along with their pet","operationId":"save","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OwnerDTO"}}},"required":true},"responses":{"201":{"description":"Owner created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebResponseOwnerIDDTO"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}}}},"patch":{"tags":["Owner"],"summary":"Update pet","description":"Update pet's name","operationId":"update","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePetDTO"}}},"required":true},"responses":{"200":{"description":"Pet updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebResponseVoid"}}}},"404":{"description":"Pet is not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}}}}},"/petistaan/pets/{petId}":{"get":{"tags":["pet-controller"],"summary":"Find pet","description":"Find an pet by its ID","operationId":"getPet","parameters":[{"name":"petId","in":"path","required":true,"schema":{"type":"integer","format":"int32","minimum":1}}],"responses":{"200":{"description":"Pet found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebResponsePetDTO"}}}},"404":{"description":"Pet is not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}}}}},"/petistaan/pets/avg":{"get":{"tags":["pet-controller"],"summary":"Find average","description":"Find average age of all pets","operationId":"getAverageAge","responses":{"200":{"description":"Returns the average pet age of all registered pets","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebResponseAverageAgeDTO"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}}}}},"/petistaan/owners/{ownerId}":{"get":{"tags":["Owner"],"summary":"Find owner","description":"Find an owner by its ID","operationId":"findOwner","parameters":[{"name":"ownerId","in":"path","required":true,"schema":{"type":"integer","format":"int32","minimum":1}}],"responses":{"200":{"description":"Owner found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebResponseOwnerDTO"}}}},"404":{"description":"Owner is not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}}}},"delete":{"tags":["Owner"],"summary":"Delete owner","description":"Delete owner by its ID","operationId":"deleteOwner","parameters":[{"name":"ownerId","in":"path","required":true,"schema":{"type":"integer","format":"int32","minimum":1}}],"responses":{"200":{"description":"Owner deleted successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebResponseVoid"}}}},"404":{"description":"Owner is not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}}}}},"/petistaan/owners/details":{"get":{"tags":["Owner"],"summary":"Get paginated owner","description":"Returns a paginated and sortable list of all registered owners.","operationId":"findDetails","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"id"}},{"name":"ascending","in":"query","required":false,"schema":{"type":"boolean","default":true}}],"responses":{"200":{"description":"Returns paginated owners","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebResponsePageOwnerPetInfoDTO"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}}}}},"/petistaan/owners/all":{"get":{"tags":["Owner"],"summary":"Get all owner","description":"Get all registered owner","operationId":"getAllOwner","responses":{"200":{"description":"Return list of all owner","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebResponseListOwnerDTO"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorDTO"}}}}}}}},"components":{"schemas":{"DomesticPetDTO":{"allOf":[{"$ref":"#/components/schemas/PetDTO"},{"type":"object","properties":{"birthDate":{"type":"string","format":"date","description":"Pet's date of birth"},"formattedBirthDate":{"type":"string","description":"Formatted pet's date of birth"}}}],"required":["birthDate"]},"OwnerDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32","description":"Unique ID of the owner"},"firstName":{"type":"string","description":"First name of the owner","maxLength":255,"minLength":0},"lastName":{"type":"string","description":"Last name of the owner","maxLength":255,"minLength":0},"gender":{"type":"string","description":"Gender of the owner","enum":["M","F"]},"city":{"type":"string","description":"City of the owner","maxLength":255,"minLength":0},"state":{"type":"string","description":"State of the owner","maxLength":255,"minLength":0},"mobileNumber":{"type":"string","description":"Mobile number of the owner","maxLength":10,"minLength":10},"emailId":{"type":"string","description":"Email id of the owner","minLength":1},"petDTO":{"description":"Pet details of the owner","oneOf":[{"$ref":"#/components/schemas/DomesticPetDTO"},{"$ref":"#/components/schemas/WildPetDTO"}]}},"required":["city","emailId","firstName","gender","lastName","mobileNumber","petDTO","state"]},"PetDTO":{"type":"object","discriminator":{"propertyName":"category"},"properties":{"id":{"type":"integer","format":"int32","description":"Unique ID of the pet"},"name":{"type":"string","description":"Name of pet"},"gender":{"type":"string","description":"Gender of pet","enum":["M","F"]},"type":{"type":"string","description":"Type of pet","enum":["BIRD","CAT","DOG","FISH","RABBIT"]},"ownerDTO":{"$ref":"#/components/schemas/OwnerDTO","description":"Owner of the pet"},"category":{"type":"string"}},"required":["category"]},"WildPetDTO":{"allOf":[{"$ref":"#/components/schemas/PetDTO"},{"type":"object","properties":{"birthPlace":{"type":"string"}}}]},"ErrorDTO":{"type":"object","properties":{"timeStamp":{"type":"string","format":"date-time","description":"Provide date and time when error occurs"},"message":{"type":"string","description":"Provide error message"},"status":{"type":"integer","format":"int32","description":"Provide the number of error status code"},"error":{"type":"string","description":"Provide enum of Http status","enum":["100 CONTINUE","101 SWITCHING_PROTOCOLS","102 PROCESSING","103 EARLY_HINTS","103 CHECKPOINT","200 OK","201 CREATED","202 ACCEPTED","203 NON_AUTHORITATIVE_INFORMATION","204 NO_CONTENT","205 RESET_CONTENT","206 PARTIAL_CONTENT","207 MULTI_STATUS","208 ALREADY_REPORTED","226 IM_USED","300 MULTIPLE_CHOICES","301 MOVED_PERMANENTLY","302 FOUND","302 MOVED_TEMPORARILY","303 SEE_OTHER","304 NOT_MODIFIED","305 USE_PROXY","307 TEMPORARY_REDIRECT","308 PERMANENT_REDIRECT","400 BAD_REQUEST","401 UNAUTHORIZED","402 PAYMENT_REQUIRED","403 FORBIDDEN","404 NOT_FOUND","405 METHOD_NOT_ALLOWED","406 NOT_ACCEPTABLE","407 PROXY_AUTHENTICATION_REQUIRED","408 REQUEST_TIMEOUT","409 CONFLICT","410 GONE","411 LENGTH_REQUIRED","412 PRECONDITION_FAILED","413 PAYLOAD_TOO_LARGE","413 REQUEST_ENTITY_TOO_LARGE","414 URI_TOO_LONG","414 REQUEST_URI_TOO_LONG","415 UNSUPPORTED_MEDIA_TYPE","416 REQUESTED_RANGE_NOT_SATISFIABLE","417 EXPECTATION_FAILED","418 I_AM_A_TEAPOT","419 INSUFFICIENT_SPACE_ON_RESOURCE","420 METHOD_FAILURE","421 DESTINATION_LOCKED","422 UNPROCESSABLE_ENTITY","423 LOCKED","424 FAILED_DEPENDENCY","425 TOO_EARLY","426 UPGRADE_REQUIRED","428 PRECONDITION_REQUIRED","429 TOO_MANY_REQUESTS","431 REQUEST_HEADER_FIELDS_TOO_LARGE","451 UNAVAILABLE_FOR_LEGAL_REASONS","500 INTERNAL_SERVER_ERROR","501 NOT_IMPLEMENTED","502 BAD_GATEWAY","503 SERVICE_UNAVAILABLE","504 GATEWAY_TIMEOUT","505 HTTP_VERSION_NOT_SUPPORTED","506 VARIANT_ALSO_NEGOTIATES","507 INSUFFICIENT_STORAGE","508 LOOP_DETECTED","509 BANDWIDTH_LIMIT_EXCEEDED","510 NOT_EXTENDED","511 NETWORK_AUTHENTICATION_REQUIRED"]}}},"OwnerIDDTO":{"type":"object","properties":{"ownerID":{"type":"integer","format":"int32","description":"The unique ID that owner gets once they are registered"}}},"WebResponseOwnerIDDTO":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/OwnerIDDTO"},"timeStamp":{"type":"string","format":"date-time"}}},"UpdatePetDTO":{"type":"object","properties":{"ownerId":{"type":"integer","format":"int32","description":"Owner unique ID","minimum":1},"petName":{"type":"string","description":"The new pet's name","maxLength":255,"minLength":0}},"required":["petName"]},"WebResponseVoid":{"type":"object","properties":{"message":{"type":"string"},"data":{},"timeStamp":{"type":"string","format":"date-time"}}},"WebResponsePetDTO":{"type":"object","properties":{"message":{"type":"string"},"data":{"oneOf":[{"$ref":"#/components/schemas/DomesticPetDTO"},{"$ref":"#/components/schemas/WildPetDTO"}]},"timeStamp":{"type":"string","format":"date-time"}}},"AverageAgeDTO":{"type":"object","properties":{"average":{"type":"number","format":"double","description":"The average age of all pets"}}},"WebResponseAverageAgeDTO":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/AverageAgeDTO"},"timeStamp":{"type":"string","format":"date-time"}}},"WebResponseOwnerDTO":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/OwnerDTO"},"timeStamp":{"type":"string","format":"date-time"}}},"OwnerPetInfoDTO":{"type":"object","properties":{"ownerId":{"type":"integer","format":"int32","description":"Unique ID of owner"},"firstName":{"type":"string","description":"Firstname of Owner"},"lastName":{"type":"string","description":"Lastname of Owner"},"petName":{"type":"string","description":"Pet name"}}},"PageOwnerPetInfoDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/OwnerPetInfoDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"},"empty":{"type":"boolean"}}},"WebResponsePageOwnerPetInfoDTO":{"type":"object","properties":{"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageOwnerPetInfoDTO"},"timeStamp":{"type":"string","format":"date-time"}}},"WebResponseListOwnerDTO":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/OwnerDTO"}},"timeStamp":{"type":"string","format":"date-time"}}}}}}